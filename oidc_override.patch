Subject: [PATCH] Use /sso as default login url

---
 .../auth/accept-organization.component.html   | 10 +--------
 apps/web/src/app/auth/sso.component.html      | 12 -----------
 .../src/auth/components/sso.component.ts      | 11 +---------
 .../angular/src/auth/guards/redirect.guard.ts |  2 +-
 6 files changed, 6 insertions(+), 52 deletions(-)

diff --git a/apps/web/src/app/auth/accept-organization.component.html b/apps/web/src/app/auth/accept-organization.component.html
index 3aef47d..a72ee54 100644
--- a/apps/web/src/app/auth/accept-organization.component.html
+++ b/apps/web/src/app/auth/accept-organization.component.html
@@ -25,19 +25,11 @@
           <hr />
           <div class="d-flex">
             <a
-              routerLink="/login"
-              [queryParams]="{ email: email }"
+              routerLink="/sso"
               class="btn btn-primary btn-block"
             >
               {{ "logIn" | i18n }}
             </a>
-            <a
-              routerLink="/register"
-              [queryParams]="{ email: email }"
-              class="btn btn-primary btn-block ml-2 mt-0"
-            >
-              {{ "createAccount" | i18n }}
-            </a>
           </div>
         </div>
       </div>
diff --git a/apps/web/src/app/auth/sso.component.html b/apps/web/src/app/auth/sso.component.html
index fb56cea..2569148 100644
--- a/apps/web/src/app/auth/sso.component.html
+++ b/apps/web/src/app/auth/sso.component.html
@@ -15,18 +15,6 @@
         </div>
         <div class="card-body" *ngIf="!loggingIn">
           <p>{{ "ssoLogInWithOrgIdentifier" | i18n }}</p>
-          <div class="form-group">
-            <label for="identifier">{{ "ssoIdentifier" | i18n }}</label>
-            <input
-              id="identifier"
-              class="form-control"
-              type="text"
-              name="Identifier"
-              [(ngModel)]="identifier"
-              required
-              appAutofocus
-            />
-          </div>
           <hr />
           <div class="d-flex">
             <button
diff --git a/libs/angular/src/auth/components/sso.component.ts b/libs/angular/src/auth/components/sso.component.ts
index 8030e88..a844bbe 100644
--- a/libs/angular/src/auth/components/sso.component.ts
+++ b/libs/angular/src/auth/components/sso.component.ts
@@ -98,16 +98,7 @@ export class SsoComponent {
   }
 
   async submit(returnUri?: string, includeUserIdentifier?: boolean) {
-    if (this.identifier == null || this.identifier === "") {
-      this.platformUtilsService.showToast(
-        "error",
-        this.i18nService.t("ssoValidationFailed"),
-        this.i18nService.t("ssoIdentifierRequired")
-      );
-      return;
-    }
-
-    this.initiateSsoFormPromise = this.apiService.preValidateSso(this.identifier);
+    this.initiateSsoFormPromise = this.apiService.preValidateSso("vaultwarden");
     const response = await this.initiateSsoFormPromise;
 
     const authorizeUrl = await this.buildAuthorizeUrl(
diff --git a/libs/angular/src/auth/guards/redirect.guard.ts b/libs/angular/src/auth/guards/redirect.guard.ts
index 4853b26..512b3a4 100644
--- a/libs/angular/src/auth/guards/redirect.guard.ts
+++ b/libs/angular/src/auth/guards/redirect.guard.ts
@@ -15,7 +15,7 @@ export interface RedirectRoutes {
 
 const defaultRoutes: RedirectRoutes = {
   loggedIn: "/vault",
-  loggedOut: "/login",
+  loggedOut: "/sso",
   locked: "/lock",
   notDecrypted: "/login-initiated",
 };
-- 
2.39.2

